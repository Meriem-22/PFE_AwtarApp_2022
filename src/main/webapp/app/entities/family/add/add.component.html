<div class="container py-5">
  <div class="row">
    <div class="col-md-12 col-md-offset-3">
      <form [formGroup]="FamilyDetails" id="msform">
        <!-- progressbar -->
        <ul id="progressbar">
          <li [ngClass]="step >= 1 ? 'active ' : 'inactive'">Family Details</li>
          <li [ngClass]="step >= 2 ? 'active' : 'inactive'">Parents Details</li>
          <li [ngClass]="step == 3 ? 'active' : 'inactive'">Children Details</li>
        </ul>
        <!-- fieldsets -->
        <fieldset *ngIf="step == 1">
          <h2 class="fs-title">Family Details</h2>

          <label class="form-label" jhiTranslate="awtarApp.family.familyName" for="field_familyName">Family Name</label>
          <input
            type="text"
            class="form-control"
            name="familyName"
            id="field_familyName"
            data-cy="familyName"
            formControlName="familyName"
          />
          <div
            *ngIf="
              family_step &&
              FamilyDetails.get('familyName')!.invalid &&
              (FamilyDetails.get('familyName')!.dirty || FamilyDetails.get('familyName')!.touched)
            "
          >
            <small
              class="form-text text-danger"
              *ngIf="FamilyDetails.get('familyName')?.errors?.required"
              jhiTranslate="entity.validation.required"
            >
              This field is required.
            </small>
          </div>

          <input
            type="text"
            class="form-control"
            name="dwelling"
            id="field_dwelling"
            data-cy="dwelling"
            formControlName="dwelling"
            placeholder="Dwelling"
          />
          <div
            *ngIf="
              family_step &&
              FamilyDetails.get('dwelling')!.invalid &&
              (FamilyDetails.get('dwelling')!.dirty || FamilyDetails.get('dwelling')!.touched)
            "
          >
            <small
              class="form-text text-danger"
              *ngIf="family_step && FamilyDetails.get('dwelling')?.errors?.required"
              jhiTranslate="entity.validation.required"
            >
              This field is required.
            </small>
          </div>

          <input type="text" class="form-control" formControlName="area" name="area" placeholder="Area" />
          <div
            *ngIf="
              family_step && FamilyDetails.get('area')!.invalid && (FamilyDetails.get('area')!.dirty || FamilyDetails.get('area')!.touched)
            "
          >
            <small
              class="form-text text-danger"
              *ngIf="family_step && FamilyDetails.get('area')?.errors?.required"
              jhiTranslate="entity.validation.required"
            >
              This field is required.
            </small>
          </div>

          <div class="chek">
            <label class="form-label" jhiTranslate="awtarApp.family.notebookOfPoverty" for="field_notebookOfPoverty"
              >Notebook Of Poverty</label
            >
            <input
              type="checkbox"
              class="form-check"
              name="notebookOfPoverty"
              id="field_notebookOfPoverty"
              data-cy="notebookOfPoverty"
              formControlName="notebookOfPoverty"
            />

            <label class="form-label" jhiTranslate="awtarApp.family.notebookOfHandicap" for="field_notebookOfHandicap"
              >Notebook Of Handicap</label
            >
            <input
              type="checkbox"
              class="form-check"
              name="notebookOfHandicap"
              id="field_notebookOfHandicap"
              data-cy="notebookOfHandicap"
              formControlName="notebookOfHandicap"
            />

            <label class="form-label" jhiTranslate="awtarApp.family.archivated" for="field_archivated">Archivated</label>
            <input
              type="checkbox"
              class="form-check"
              name="archivated"
              id="field_archivated"
              data-cy="archivated"
              formControlName="archivated"
            />
          </div>
          <label class="form-label" jhiTranslate="awtarApp.beneficiary.authorizingOfficer" for="field_authorizingOfficer"
            >Authorizing Officer</label
          >
          <select
            class="form-control"
            id="field_authorizingOfficer"
            data-cy="authorizingOfficer"
            name="authorizingOfficer"
            formControlName="authorizingOfficer"
          >
            <option [ngValue]="null"></option>
            <option
              [ngValue]="
                authorizingOfficerOption.id === FamilyDetails.get('authorizingOfficer')!.value?.id
                  ? FamilyDetails.get('authorizingOfficer')!.value
                  : authorizingOfficerOption
              "
              *ngFor="let authorizingOfficerOption of authorizingOfficersSharedCollection; trackBy: trackAuthorizingOfficerById"
            >
              {{ authorizingOfficerOption.abbreviation }}
            </option>
          </select>

          <label class="form-label" jhiTranslate="awtarApp.beneficiary.tutor" for="field_tutor">Tutor</label>
          <select class="form-control" id="field_tutor" data-cy="tutor" name="tutor" formControlName="tutor">
            <option [ngValue]="null"></option>
            <option
              [ngValue]="tutorOption.id === FamilyDetails.get('tutor')!.value?.id ? FamilyDetails.get('tutor')!.value : tutorOption"
              *ngFor="let tutorOption of tutorsSharedCollection; trackBy: trackTutorById"
            >
              {{ tutorOption.id }}
            </option>
          </select>

          <input (click)="next()" type="button" name="next" class="next action-button" value="Next" />
        </fieldset>
      </form>

      <form [formGroup]="ParentDetails" id="msform">
        <fieldset *ngIf="step == 2">
          <h2 class="fs-title">Parents Details</h2>
          <div class="profile">
            <div class="blok1">
              <div class="row mb-3">
                <div>
                  <img
                    [src]="'data:' + ParentDetails.get('urlPhotoContentType')!.value + ';base64,' + ParentDetails.get('urlPhoto')!.value"
                    style="max-height: 100px"
                    *ngIf="ParentDetails.get('urlPhoto')!.value"
                    alt="profile image"
                  />
                  <div *ngIf="ParentDetails.get('urlPhoto')!.value" class="form-text text-danger clearfix">
                    <span class="pull-start"
                      >{{ ParentDetails.get('urlPhotoContentType')!.value }}, {{ byteSize(ParentDetails.get('urlPhoto')!.value) }}</span
                    >
                    <button
                      type="button"
                      (click)="clearInputImage('urlPhoto', 'urlPhotoContentType', 'file_urlPhoto')"
                      class="btn btn-secondary btn-xs pull-end"
                    >
                      <fa-icon icon="times"></fa-icon>
                    </button>
                  </div>
                  <input
                    type="file"
                    id="file_urlPhoto"
                    data-cy="urlPhoto"
                    (change)="setFileData($event, 'urlPhoto', true)"
                    accept="image/*"
                    jhiTranslate="entity.action.addimage"
                  />
                </div>
                <input
                  type="hidden"
                  class="form-control"
                  name="urlPhoto"
                  id="field_urlPhoto"
                  data-cy="urlPhoto"
                  formControlName="urlPhoto"
                />
                <input
                  type="hidden"
                  class="form-control"
                  name="urlPhotoContentType"
                  id="field_urlPhotoContentType"
                  formControlName="urlPhotoContentType"
                />
              </div>

              <div>
                <jhi-alert-error></jhi-alert-error>

                <input
                  type="text"
                  class="form-control"
                  name="firstName"
                  id="field_firstName"
                  data-cy="firstName"
                  formControlName="firstName"
                  placeholder="First Name"
                />
                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get('firstName')!.invalid &&
                    (ParentDetails.get('firstName')!.dirty || ParentDetails.get('firstName')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="parent_step && ParentDetails.get('firstName')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>

                <input
                  type="text"
                  class="form-control"
                  name="lastName"
                  id="field_lastName"
                  data-cy="lastName"
                  formControlName="lastName"
                  placeholder="Last Name"
                />
                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get('lastName')!.invalid &&
                    (ParentDetails.get('lastName')!.dirty || ParentDetails.get('lastName')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="ParentDetails.get('lastName')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>

                <input
                  type="text"
                  class="form-control"
                  name="firstNameArabic"
                  id="field_firstNameArabic"
                  data-cy="firstNameArabic"
                  formControlName="firstNameArabic"
                  placeholder="First Name Arabic"
                />

                <input
                  type="text"
                  class="form-control"
                  name="lastNameArabic"
                  id="field_lastNameArabic"
                  data-cy="lastNameArabic"
                  formControlName="lastNameArabic"
                  placeholder="Last Name Arabic"
                />

                <label class="form-label" jhiTranslate="awtarApp.profile.gender" for="field_gender">Gender</label>
                <select
                  class="form-control mb-3"
                  name="gender"
                  formControlName="gender"
                  id="field_gender"
                  data-cy="gender"
                  aria-placeholder=" Select Gender"
                >
                  <option [ngValue]="null">{{ 'awtarApp.Gender.null' | translate }}</option>
                  <option *ngFor="let gender of genderValues" [value]="gender">{{ 'awtarApp.Gender.' + gender | translate }}</option>
                </select>
                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get('gender')!.invalid &&
                    (ParentDetails.get('gender')!.dirty || ParentDetails.get('gender')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="ParentDetails.get('gender')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>

                <div class="row mb-3">
                  <div class="input-group">
                    <input
                      id="field_dateOfBirth"
                      data-cy="dateOfBirth"
                      type="text"
                      class="form-control"
                      name="dateOfBirth"
                      ngbDatepicker
                      #dateOfBirthDp="ngbDatepicker"
                      formControlName="dateOfBirth"
                      placeholder="Date Of Birth"
                    />
                    <button type="button" class="btn btn-secondary" (click)="dateOfBirthDp.toggle()">
                      <fa-icon icon="calendar-alt"></fa-icon>
                    </button>
                  </div>
                  <div
                    *ngIf="
                      parent_step &&
                      ParentDetails.get('dateOfBirth')!.invalid &&
                      (ParentDetails.get('dateOfBirth')!.dirty || ParentDetails.get('dateOfBirth')!.touched)
                    "
                  >
                    <small
                      class="form-text text-danger"
                      *ngIf="ParentDetails.get('dateOfBirth')?.errors?.required"
                      jhiTranslate="entity.validation.required"
                    >
                      This field is required.
                    </small>
                  </div>
                </div>

                <label class="form-label" jhiTranslate="awtarApp.profile.birthPlace" for="field_birthPlace">Birth Place</label>
                <select class="form-control mb-3" id="field_birthPlace" data-cy="birthPlace" name="birthPlace" formControlName="birthPlace">
                  <option *ngIf="parent_step && !ParentDetails.get('birthPlace')!.value" [ngValue]="null" selected></option>
                  <option
                    [ngValue]="
                      cityOption.id === ParentDetails.get('birthPlace')!.value?.id ? ParentDetails.get('birthPlace')!.value : cityOption
                    "
                    *ngFor="let cityOption of citiesSharedCollection; trackBy: trackCityById"
                  >
                    {{ cityOption.name }}
                  </option>
                </select>

                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get(['birthPlace'])!.invalid &&
                    (ParentDetails.get(['birthPlace'])!.dirty || ParentDetails.get(['birthPlace'])!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="ParentDetails.get(['birthPlace'])?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>

                <input type="text" class="form-control" name="cin" id="field_cin" data-cy="cin" formControlName="cin" placeholder="CIN" />

                <div class="row mb-3">
                  <label class="form-label" jhiTranslate="awtarApp.profile.urlCinAttached" for="field_urlCinAttached"
                    >Url Cin Attached</label
                  >
                  <div>
                    <img
                      [src]="
                        'data:' +
                        ParentDetails.get('urlCinAttachedContentType')!.value +
                        ';base64,' +
                        ParentDetails.get('urlCinAttached')!.value
                      "
                      style="max-height: 100px"
                      *ngIf="parent_step && ParentDetails.get('urlCinAttached')!.value"
                      alt="profile image"
                    />
                    <div *ngIf="parent_step && ParentDetails.get('urlCinAttached')!.value" class="form-text text-danger clearfix">
                      <span class="pull-start"
                        >{{ ParentDetails.get('urlCinAttachedContentType')!.value }},
                        {{ byteSize(ParentDetails.get('urlCinAttached')!.value) }}</span
                      >
                      <button
                        type="button"
                        (click)="clearInputImage('urlCinAttached', 'urlCinAttachedContentType', 'file_urlCinAttached')"
                        class="btn btn-secondary btn-xs pull-end"
                      >
                        <fa-icon icon="times"></fa-icon>
                      </button>
                    </div>
                    <input
                      type="file"
                      id="file_urlCinAttached"
                      data-cy="urlCinAttached"
                      (change)="setFileData($event, 'urlCinAttached', true)"
                      accept="image/*"
                      jhiTranslate="entity.action.addimage"
                    />
                  </div>
                  <input
                    type="hidden"
                    class="form-control"
                    name="urlCinAttached"
                    id="field_urlCinAttached"
                    data-cy="urlCinAttached"
                    formControlName="urlCinAttached"
                  />
                  <input
                    type="hidden"
                    class="form-control"
                    name="urlCinAttachedContentType"
                    id="field_urlCinAttachedContentType"
                    formControlName="urlCinAttachedContentType"
                  />
                </div>

                <input
                  type="text"
                  class="form-control"
                  name="address"
                  id="field_address"
                  data-cy="address"
                  formControlName="address"
                  placeholder="Address"
                />

                <input
                  type="text"
                  class="form-control"
                  name="phone"
                  id="field_phone"
                  data-cy="phone"
                  formControlName="phone"
                  placeholder="Phone"
                />

                <input
                  type="text"
                  class="form-control"
                  name="email"
                  id="field_email"
                  data-cy="email"
                  formControlName="email"
                  placeholder="Email"
                />
              </div>
            </div>

            <div class="blok2">
              <div class="row mb-3">
                <input
                  type="number"
                  class="form-control"
                  name="annualRevenue"
                  id="field_annualRevenue"
                  data-cy="annualRevenue"
                  formControlName="annualRevenue"
                  placeholder="Annual Revenue"
                />
                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get('annualRevenue')!.invalid &&
                    (ParentDetails.get('annualRevenue')!.dirty || ParentDetails.get('annualRevenue')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="parent_step && ParentDetails.get('annualRevenue')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                  <small
                    class="form-text text-danger"
                    [hidden]="!ParentDetails.get('annualRevenue')?.errors?.number"
                    jhiTranslate="entity.validation.number"
                  >
                    This field should be a number.
                  </small>
                </div>
              </div>

              <div class="row mb-3">
                <label class="form-label" jhiTranslate="awtarApp.parent.maritalStatus" for="field_maritalStatus">Marital Status</label>
                <select
                  class="form-control"
                  name="maritalStatus"
                  formControlName="maritalStatus"
                  id="field_maritalStatus"
                  data-cy="maritalStatus"
                >
                  <option [ngValue]="null">{{ 'awtarApp.MaritalStatus.null' | translate }}</option>
                  <option *ngFor="let maritalStatus of maritalStatusValues" [value]="maritalStatus">
                    {{ 'awtarApp.MaritalStatus.' + maritalStatus | translate }}
                  </option>
                </select>
                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get('maritalStatus')!.invalid &&
                    (ParentDetails.get('maritalStatus')!.dirty || ParentDetails.get('maritalStatus')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="ParentDetails.get('maritalStatus')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>
              </div>
              <div class="row mb-3">
                <label class="form-label" jhiTranslate="awtarApp.profile.placeOfResidence" for="field_placeOfResidence"
                  >Place Of Residence</label
                >
                <select
                  class="form-control mb-3"
                  id="field_placeOfResidence"
                  data-cy="placeOfResidence"
                  name="placeOfResidence"
                  formControlName="placeOfResidence"
                >
                  <option *ngIf="parent_step && !ParentDetails.get('placeOfResidence')!.value" [ngValue]="null" selected></option>
                  <option
                    [ngValue]="
                      cityOption.id === ParentDetails.get('placeOfResidence')!.value?.id
                        ? ParentDetails.get('placeOfResidence')!.value
                        : cityOption
                    "
                    *ngFor="let cityOption of citiesSharedCollection; trackBy: trackCityById"
                  >
                    {{ cityOption.name }}
                  </option>
                </select>

                <div
                  *ngIf="
                    parent_step &&
                    ParentDetails.get(['placeOfResidence'])!.invalid &&
                    (ParentDetails.get(['placeOfResidence'])!.dirty || ParentDetails.get(['placeOfResidence'])!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="parent_step && ParentDetails.get(['placeOfResidence'])?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>
              </div>

              <div class="row mb-3">
                <input
                  type="text"
                  class="form-control"
                  name="occupation"
                  id="field_occupation"
                  data-cy="occupation"
                  formControlName="occupation"
                  placeholder="Occupation"
                />
                <div
                  *ngIf="
                    ParentDetails.get('occupation')!.invalid &&
                    (ParentDetails.get('occupation')!.dirty || ParentDetails.get('occupation')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="parent_step && ParentDetails.get('occupation')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>
              </div>

              <div class="row mb-3">
                <input
                  type="number"
                  class="form-control"
                  name="cnss"
                  id="field_cnss"
                  data-cy="cnss"
                  formControlName="cnss"
                  placeholder="CNSS"
                />
              </div>

              <div class="row mb-3">
                <label class="form-label" jhiTranslate="awtarApp.parent.deceased" for="field_deceased">Deceased</label>
                <input
                  type="checkbox"
                  class="form-check"
                  name="deceased"
                  id="field_deceased"
                  data-cy="deceased"
                  formControlName="deceased"
                />
              </div>

              <div class="row mb-3">
                <label class="form-label" jhiTranslate="awtarApp.parent.dateOfDeath" for="field_dateOfDeath">Date Of Death</label>
                <div class="input-group">
                  <input
                    id="field_dateOfDeath"
                    data-cy="dateOfDeath"
                    type="text"
                    class="form-control"
                    name="dateOfDeath"
                    ngbDatepicker
                    #dateOfDeathDp="ngbDatepicker"
                    formControlName="dateOfDeath"
                  />
                  <button type="button" class="btn btn-secondary" (click)="dateOfDeathDp.toggle()">
                    <fa-icon icon="calendar-alt"></fa-icon>
                  </button>
                </div>
              </div>

              <div class="chek">
                <label class="form-label" jhiTranslate="awtarApp.profile.archivated" for="field_archivated">Archivated</label>
                <input
                  type="checkbox"
                  class="form-check"
                  name="archivated"
                  id="field_archivated"
                  data-cy="archivated"
                  formControlName="archivated"
                />

                <label class="form-label" jhiTranslate="awtarApp.parent.familyHead" for="field_familyHead">Family Head</label>

                <input
                  type="checkbox"
                  class="form-check"
                  name="familyHead"
                  id="field_familyHead"
                  data-cy="archivated"
                  formControlName="familyHead"
                />
              </div>
            </div>
          </div>
          <input (click)="previous()" type="button" name="previous" class="previous action-button-previous" value="Previous" />
          <input (click)="add()" type="button" name="add" class="add action-button-add" value="Add" />
          <input (click)="next()" type="button" name="next" class="next action-button" value="Next" />
        </fieldset>
      </form>
      <form [formGroup]="ChildDetails" id="msform">
        <fieldset *ngIf="step == 3">
          <h2 class="fs-title">Children Details</h2>

          <div class="row mb-3">
            <label class="form-label" jhiTranslate="awtarApp.profile.urlPhoto" for="field_urlPhoto">Url Photo</label>
            <div>
              <img
                [src]="'data:' + ChildDetails.get('urlPhotoContentType')!.value + ';base64,' + ChildDetails.get('urlPhoto')!.value"
                style="max-height: 100px"
                *ngIf="child_step && ChildDetails.get('urlPhoto')!.value"
                alt="profile image"
              />
              <div *ngIf="child_step && ChildDetails.get('urlPhoto')!.value" class="form-text text-danger clearfix">
                <span class="pull-start"
                  >{{ ChildDetails.get('urlPhotoContentType')!.value }}, {{ byteSizeChild(ChildDetails.get('urlPhoto')!.value) }}</span
                >
                <button
                  type="button"
                  (click)="clearInputImageChild('urlPhoto', 'urlPhotoContentType', 'file_urlPhoto')"
                  class="btn btn-secondary btn-xs pull-end"
                >
                  <fa-icon icon="times"></fa-icon>
                </button>
              </div>
              <input
                type="file"
                id="file_urlPhoto"
                data-cy="urlPhoto"
                (change)="setFileDataChild($event, 'urlPhoto', true)"
                accept="image/*"
                jhiTranslate="entity.action.addimage"
              />
            </div>
            <input type="hidden" class="form-control" name="urlPhoto" id="field_urlPhoto" data-cy="urlPhoto" formControlName="urlPhoto" />
            <input
              type="hidden"
              class="form-control"
              name="urlPhotoContentType"
              id="field_urlPhotoContentType"
              formControlName="urlPhotoContentType"
            />
          </div>

          <div class="info1">
            <input
              type="text"
              class="form-control"
              name="firstName"
              id="field_firstName"
              data-cy="firstName"
              formControlName="firstName"
              placeholder="First Name"
            />
            <div
              *ngIf="
                child_step &&
                ChildDetails.get('firstName')!.invalid &&
                (ChildDetails.get('firstName')!.dirty || ChildDetails.get('firstName')!.touched)
              "
            >
              <small
                class="form-text text-danger"
                *ngIf="child_step && ChildDetails.get('firstName')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>

            <input
              type="text"
              class="form-control"
              name="lastName"
              id="field_lastName"
              data-cy="lastName"
              formControlName="lastName"
              placeholder="Last Name"
            />
            <div
              *ngIf="
                child_step &&
                ChildDetails.get('lastName')!.invalid &&
                (ChildDetails.get('lastName')!.dirty || ChildDetails.get('lastName')!.touched)
              "
            >
              <small
                class="form-text text-danger"
                *ngIf="child_step && ChildDetails.get('lastName')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>

            <input
              type="text"
              class="form-control"
              name="firstNameArabic"
              id="field_firstNameArabic"
              data-cy="firstNameArabic"
              formControlName="firstNameArabic"
              placeholder="First Name Arabic"
            />

            <input
              type="text"
              class="form-control"
              name="lastNameArabic"
              id="field_lastNameArabic"
              data-cy="lastNameArabic"
              formControlName="lastNameArabic"
              placeholder="Last Name Arabic"
            />
          </div>
          <div class="info2">
            <label class="form-label" jhiTranslate="awtarApp.profile.gender" for="field_gender">Gender</label>
            <select class="form-control mb-3" name="gender" formControlName="gender" id="field_gender" data-cy="gender">
              <option [ngValue]="null">{{ 'awtarApp.Gender.null' | translate }}</option>
              <option *ngFor="let gender of genderValues" [value]="gender">{{ 'awtarApp.Gender.' + gender | translate }}</option>
            </select>
            <div
              *ngIf="
                child_step &&
                ChildDetails.get('gender')!.invalid &&
                (ChildDetails.get('gender')!.dirty || ChildDetails.get('gender')!.touched)
              "
            >
              <small
                class="form-text text-danger"
                *ngIf="ChildDetails.get('gender')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>

            <div class="input-group">
              <input
                id="field_dateOfBirth"
                data-cy="dateOfBirth"
                type="text"
                class="form-control mb-3"
                name="dateOfBirth"
                ngbDatepicker
                #dateOfBirthDp="ngbDatepicker"
                formControlName="dateOfBirth"
                placeholder="Date Of Birth"
              />

              <button type="button" class="btn btn-secondary" (click)="dateOfBirthDp.toggle()">
                <fa-icon icon="calendar-alt"></fa-icon>
              </button>
            </div>

            <div
              *ngIf="
                child_step &&
                ChildDetails.get('dateOfBirth')!.invalid &&
                (ChildDetails.get('dateOfBirth')!.dirty || ChildDetails.get('dateOfBirth')!.touched)
              "
            >
              <small
                class="form-text text-danger"
                *ngIf="child_step && ChildDetails.get('dateOfBirth')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>

            <label class="form-label" jhiTranslate="awtarApp.profile.birthPlace" for="field_birthPlace">Birth Place</label>
            <select class="form-control mb-3" id="field_birthPlace" data-cy="birthPlace" name="birthPlace" formControlName="birthPlace">
              <option *ngIf="!ChildDetails.get('birthPlace')!.value" [ngValue]="null" selected></option>
              <option
                [ngValue]="cityOption.id === ChildDetails.get('birthPlace')!.value?.id ? ChildDetails.get('birthPlace')!.value : cityOption"
                *ngFor="let cityOption of citiesSharedCollection; trackBy: trackCityById"
              >
                {{ cityOption.name }}
              </option>
            </select>

            <div
              *ngIf="
                child_step &&
                ChildDetails.get(['birthPlace'])!.invalid &&
                (ChildDetails.get(['birthPlace'])!.dirty || ChildDetails.get(['birthPlace'])!.touched)
              "
            >
              <small
                class="form-text text-danger"
                *ngIf="child_step && ChildDetails.get(['birthPlace'])?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>

            <input type="text" class="form-control" name="cin" id="field_cin" data-cy="cin" formControlName="cin" placeholder="CIN" />
          </div>

          <div class="row mb-3">
            <label class="form-label" jhiTranslate="awtarApp.profile.urlCinAttached" for="field_urlCinAttached">Url Cin Attached</label>
            <div>
              <img
                [src]="
                  'data:' + ChildDetails.get('urlCinAttachedContentType')!.value + ';base64,' + ChildDetails.get('urlCinAttached')!.value
                "
                style="max-height: 100px"
                *ngIf="child_step && ChildDetails.get('urlCinAttached')!.value"
                alt="profile image"
              />
              <div *ngIf="child_step && ChildDetails.get('urlCinAttached')!.value" class="form-text text-danger clearfix">
                <span class="pull-start"
                  >{{ ChildDetails.get('urlCinAttachedContentType')!.value }},
                  {{ byteSize(ChildDetails.get('urlCinAttached')!.value) }}</span
                >
                <button
                  type="button"
                  (click)="clearInputImage('urlCinAttached', 'urlCinAttachedContentType', 'file_urlCinAttached')"
                  class="btn btn-secondary btn-xs pull-end"
                >
                  <fa-icon icon="times"></fa-icon>
                </button>
              </div>
              <input
                type="file"
                id="file_urlCinAttached"
                data-cy="urlCinAttached"
                (change)="setFileData($event, 'urlCinAttached', true)"
                accept="image/*"
                jhiTranslate="entity.action.addimage"
              />
            </div>
            <input
              type="hidden"
              class="form-control"
              name="urlCinAttached"
              id="field_urlCinAttached"
              data-cy="urlCinAttached"
              formControlName="urlCinAttached"
            />
            <input
              type="hidden"
              class="form-control"
              name="urlCinAttachedContentType"
              id="field_urlCinAttachedContentType"
              formControlName="urlCinAttachedContentType"
            />
          </div>

          <div class="info3">
            <label class="form-label" jhiTranslate="awtarApp.profile.placeOfResidence" for="field_placeOfResidence"
              >Place Of Residence</label
            >
            <select
              class="form-control mb-3"
              id="field_placeOfResidence"
              data-cy="placeOfResidence"
              name="placeOfResidence"
              formControlName="placeOfResidence"
            >
              <option *ngIf="child_step && !ChildDetails.get('placeOfResidence')!.value" [ngValue]="null" selected></option>
              <option
                [ngValue]="
                  cityOption.id === ChildDetails.get('placeOfResidence')!.value?.id
                    ? ChildDetails.get('placeOfResidence')!.value
                    : cityOption
                "
                *ngFor="let cityOption of citiesSharedCollection; trackBy: trackCityById"
              >
                {{ cityOption.name }}
              </option>
            </select>

            <div
              *ngIf="
                child_step &&
                ChildDetails.get(['placeOfResidence'])!.invalid &&
                (ChildDetails.get(['placeOfResidence'])!.dirty || ChildDetails.get(['placeOfResidence'])!.touched)
              "
            >
              <small
                class="form-text text-danger"
                *ngIf="child_step && ChildDetails.get(['placeOfResidence'])?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>

            <input
              type="text"
              class="form-control"
              name="address"
              id="field_address"
              data-cy="address"
              formControlName="address"
              placeholder="Adress"
            />

            <input
              type="text"
              class="form-control"
              name="phone"
              id="field_phone"
              data-cy="phone"
              formControlName="phone"
              placeholder="Phone"
            />

            <input
              type="text"
              class="form-control"
              name="email"
              id="field_email"
              data-cy="email"
              formControlName="email"
              placeholder="Email"
            />

            <label class="form-label" jhiTranslate="awtarApp.profile.archivated" for="field_archivated">Archivated</label>
            <input
              type="checkbox"
              class="form-check"
              name="archivated"
              id="field_archivated"
              data-cy="archivated"
              formControlName="archivated"
            />
          </div>

          <input (click)="previous()" type="button" name="previous" class="previous action-button-previous" value="Previous" />
          <input (click)="add()" type="button" name="add" class="add action-button-add" value="Add" />
          <input (click)="submit()" type="submit" name="submit" class="submit action-button" value="Submit" />
        </fieldset>
      </form>
    </div>
  </div>
</div>
